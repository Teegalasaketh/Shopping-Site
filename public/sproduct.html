<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section id="header">
        <a href="#"><img src="images/logo.png" alt="logo" width="200px" height="40px"></a>
        <div>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a class="active" href="shop.html">Shop</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="cart.html"><i id="lg-bag" class="far fa-shopping-bag"></i></a></li>
                <a href="#" id="close"><i class="far fa-times"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <a href="#"><i class="far fa-shopping-bag"></i></a>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section>

    <section id="prodetails" class="section-p1">
        <div class="spro-img">
            <img src="" width="100%" id="mainImg">
            <div class="s-img-grp">
                <!-- Small images will be inserted dynamically -->
            </div>
        </div>
        <div class="spro-details">
            <h6>Home / Product</h6>
            <h4></h4> <!-- Product Name -->
            <h2></h2> <!-- Product Price -->
            <select>
                <option>Select Size</option>
                <option>XXL</option>
                <option>XL</option>
                <option>L</option>
                <option>M</option>
                <option>S</option>
            </select>
            <input type="number" value="1">
            <button class="normal" onclick="addToCartFromDetails()">Add to Cart</button>
            <h4>About Product</h4>
            <span></span> <!-- Product Description -->
        </div>
    </section>
    <section id="product1" class="section-p1">
        <h2>Featured Products</h2>
        <p>Summer Collection New Modern Design</p>
        <div class="pro-container">
            <div class="pro" onclick="viewProduct(1)">
                <img src="images/products/f1.jpg" alt="">
                <div class="des">
                    <span>adidas</span>
                    <h5>Cartoon Astronaut Shirt</h5>
                    <div class="star">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <h4>$78.99</h4>
                </div>
            </div>
            <div class="pro" onclick="viewProduct(2)">
                <img src="images/products/f2.jpg" alt="">
                <div class="des">
                    <span>adidas</span>
                    <h5>Cartoon Astronaut Shirt</h5>
                    <div class="star">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <h4>$78.99</h4>
                </div>
            </div>
            <div class="pro" onclick="viewProduct(3)">
                <img src="images/products/f3.jpg" alt="">
                <div class="des">
                    <span>adidas</span>
                    <h5>Cartoon Astronaut Shirt</h5>
                    <div class="star">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <h4>$78.99</h4>
                </div>
            </div>
            <div class="pro" onclick="viewProduct(4)">
                <img src="images/products/f4.jpg" alt="">
                <div class="des">
                    <span>adidas</span>
                    <h5>Cartoon Astronaut Shirt</h5>
                    <div class="star">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <h4>$78.99</h4>
                </div>
            </div>
        </div>
    </section>

    <!-- Newsletter -->
    <section id="newsletter" class="section-p1 section-m1">
        <div class="newstext">
            <h4>Sign Up For Newsletters</h4>
            <p>Get E-mail updates about our latest shop and <span>special offers.</span></p>
        </div>
        <div class="form">
            <input type="text" placeholder="Your email address">
            <button class="normal">Sign Up</button>
        </div>
    </section>

    <!-- Footer -->
    <footer class="section-p1">
        <div class="col">
            <img class="logo" src="images/logo.png" alt=""  width="350px" height="120px">
            <h4>Contact</h4>
            <p><strong>Address:</strong> 562 Wellington Road, Street 32, San Francisco</p>
            <p><strong>Phone:</strong> +01 3333 845 / (+91) 01 5878 9542</p>
            <p><strong>Hours:</strong> 10:00 - 18:00, Mon - Sat</p>
            <div class="follow">
                <h4>Follow Us</h4>
                <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-pinterest-p"></i>
                    <i class="fab fa-youtube"></i>
                </div>
            </div>
        </div>
        <!-- Add more footer cols if needed -->
        <div class="copyright">
            <p>&copy;2025. All Rights Secured</p>
        </div>
    </footer>

    <!-- JavaScript for Dynamic Content -->
    <script>
        const product = JSON.parse(localStorage.getItem("product"));
        if (product) {
            document.getElementById("mainImg").src = product.img;
            document.querySelector(".spro-details h4").textContent = product.name;
            document.querySelector(".spro-details h2").textContent = product.price;
            document.querySelector(".spro-details span").textContent = product.description;

            const imgGroup = document.querySelector(".s-img-grp");
            imgGroup.innerHTML = product.images.map(img => `
                <div class="s-img-col">
                    <img src="${img}" class="s-img" width="100%">
                </div>
            `).join("");

            setTimeout(() => {
                const mainImg = document.getElementById("mainImg");
                const sImgs = document.querySelectorAll(".s-img");
                sImgs.forEach(img => {
                    img.onclick = () => {
                        mainImg.src = img.src;
                    };
                });
            }, 100);
        }
    </script>

</body>
</html>

<script src="javascript.js"></script>
<script>
    const products = getProducts();
    const id = localStorage.getItem("productId");
    if (!id) {
        document.querySelector(".spro-details").innerHTML = "<p>Product not found</p>";
    } else {
        const p = products[id - 1];
        document.getElementById("mainImg").src = p.img;
        document.querySelector(".spro-details h4").innerText = p.name;
        document.querySelector(".spro-details h2").innerText = p.price;
        document.querySelector(".spro-details span").innerText = p.description;
    }
</script>
<script>
    function addToCartFromDetails() {
        const id = parseInt(localStorage.getItem("productId"));
        if (!id) return;
        addToCart(id);
    }
</script>
<script>
  const user = JSON.parse(localStorage.getItem("loggedInUser"));
  const loggedIn = localStorage.getItem("isLoggedIn") === "true";

  const navbar = document.getElementById("navbar");

  if (loggedIn && user) {
  const initials = user.name.split(" ")[0].charAt(0).toUpperCase() +
                   (user.name.split(" ")[1]?.charAt(0).toUpperCase() || "");
  navbar.innerHTML += `
    <li class="profile-circle">${initials}</li>
    <li><button class="normal" id="log-btn" onclick="logout()">Logout</button></li>
  `;
} else {
  navbar.innerHTML += `
    <li><button class="normal" id="log-btn"onclick="page()">Login</button></li>
  `;
}

function page(){
    window.location.href = "login.html";
}
  function logout() {
    localStorage.removeItem("isLoggedIn");
    localStorage.removeItem("loggedInUser");
    location.reload();
  }
</script>
